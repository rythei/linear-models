
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5.5. Changing Basis &#8212; Linear Algebra for Data Workbook</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6. Geometry: angles, orthogonality, and projections" href="basicLA_4_chheader.html" />
    <link rel="prev" title="5.4. Left Inverses, Right Inverses, and Inverses" href="basicLA_3_inverses.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Linear Algebra for Data Workbook</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../overview.html">
   Welcome to Stat 89A
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Background
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="python_chheader.html">
   1. Python 101
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="python_basics.html">
     1.1. The Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="python_numpy.html">
     1.2. Introduction to NumPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="python_plotting.html">
     1.3. MatPlotLib
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Basic Linear Algebra
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="basicLA_1_chheader.html">
   2. Matrices, vectors, and
   <span class="math notranslate nohighlight">
    \(\mathbb{R}^n\)
   </span>
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_1_introduction-to-norms.html">
     2.1. Introduction to Norms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_1_norms-integration-monte-carlo.html">
     2.2. An application: approximating integrals with norms and Monte Carlo integration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_1_lp-balls.html">
     2.3.
     <span class="math notranslate nohighlight">
      \(\ell_p\)
     </span>
     Balls
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_1_classification-with-norms.html">
     2.4. An application: classifying data points using norms
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="basicLA_2_chheader.html">
   3. Basics of vectors and vector spaces
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_2A_vectorspaces.html">
     3.1. Vectors and vector spaces
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="basicLA_3_chheader.html">
   4. Basics of matrices
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_3_matrices-and-matrix-operations.html">
     4.1. Matrices and matrix operations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_3_deconstructing.html">
     4.2. Deconstructing Matrix Multiplication
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_3_powers_of_matrices.html">
     4.3. Taking Powers of Matrices
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="basicLA_3B_chheader.html">
   5. Matrices as transformations
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_3_linear_examples_new.html">
     5.1. Linear and Nonlinear Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_3_matrices_and_linear_functions.html">
     5.2. Matrices and Linear Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_3_injective-and-surjective-functions.html">
     5.3. Injective, surjective and invertible functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_3_inverses.html">
     5.4. Left Inverses, Right Inverses, and Inverses
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     5.5. Changing Basis
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="basicLA_4_chheader.html">
   6. Geometry: angles, orthogonality, and projections
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_4_dot-products-and-angles.html">
     6.1. Dot products, angles, and orthogonality
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_4_QR.html">
     6.2. Gram–Schmidt and the QR Decomposition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_4_QR_linear_systems.html">
     6.3. Solving linear systems with the QR decomposition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basicLA_4_projections.html">
     6.4. Projections
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  The EVD, SVD and applications
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="eigenstuff_chheader.html">
   7. Eigenthings
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="eigenstuff_quadratic-forms.html">
     7.1. Quadratic forms
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="eigenstuff_eigenthings.html">
     7.2. Eigenvalues and eigenvectors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="eigenstuff_eigenthings-special-matrices.html">
     7.3. The Eigenvalue decomposition for special types of matrices
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="eigenstuff_qr-algorithm.html">
     7.4. The QR algorithm for finding eigenvalues and eigenvectors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="eigenstuff_SVD.html">
     7.5. The Singular Value Decomposition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="eigenstuff_low-rank-approximation.html">
     7.6. Low-rank approximation using the SVD
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="applications_chheader.html">
   8. Applications
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="applications_PCA.html">
     8.1. Principal Component Analysis (PCA)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="applications_spectral-clustering.html">
     8.2. Sprectral Clustering
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="applications_least-squares.html">
     8.3. Least Squares
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="applications_double-descent.html">
     8.4. The “double descent” phenomenon
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../_sources/content/basicLA_3_changing_basis.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/content/basicLA_3_changing_basis.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/erichson/LinearAlgebra/master?urlpath=tree/content/basicLA_3_changing_basis.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representing-vectors-with-respect-to-bases">
   5.5.1. Representing vectors with respect to bases
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-change-of-basis-matrix">
   5.5.2. The change of basis matrix
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#changing-to-and-from-the-standard-basis">
     5.5.2.1. Changing to and from the standard basis
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#changing-to-and-from-two-arbitrary-bases">
     5.5.2.2. Changing to and from two arbitrary bases
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representing-a-matrix-with-respect-to-a-basis">
   5.5.3. Representing a matrix with respect to a basis
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#changing-basis-for-a-matrix">
     5.5.3.1. Changing basis for a matrix
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Changing Basis</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representing-vectors-with-respect-to-bases">
   5.5.1. Representing vectors with respect to bases
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-change-of-basis-matrix">
   5.5.2. The change of basis matrix
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#changing-to-and-from-the-standard-basis">
     5.5.2.1. Changing to and from the standard basis
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#changing-to-and-from-two-arbitrary-bases">
     5.5.2.2. Changing to and from two arbitrary bases
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representing-a-matrix-with-respect-to-a-basis">
   5.5.3. Representing a matrix with respect to a basis
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#changing-basis-for-a-matrix">
     5.5.3.1. Changing basis for a matrix
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="changing-basis">
<h1><span class="section-number">5.5. </span>Changing Basis<a class="headerlink" href="#changing-basis" title="Permalink to this headline">¶</a></h1>
<p>We previously introduced the concept of a <em>basis</em> for a vector space <span class="math notranslate nohighlight">\(V\)</span>such as <span class="math notranslate nohighlight">\(\mathbb{R}^n\)</span>.
Recall that a set <span class="math notranslate nohighlight">\(\boldsymbol{v}_1,\dots,\boldsymbol{v}_k\)</span> of vectors is called a <em>basis</em> for <span class="math notranslate nohighlight">\(V\)</span> if</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\text{span}(\boldsymbol{v}_1,\dots,\boldsymbol{v}_k) = V\)</span>, and</p></li>
<li><p><span class="math notranslate nohighlight">\(\boldsymbol{v}_1,\dots,\boldsymbol{v}_k\)</span> are linearly independent.</p></li>
</ul>
<p>If <span class="math notranslate nohighlight">\(V = \mathbb{R}^{n}\)</span>, then we have <span class="math notranslate nohighlight">\(k=n\)</span> vectors in any basis for <span class="math notranslate nohighlight">\(\mathbb{R}^{n}\)</span>.
In this case, any set of <span class="math notranslate nohighlight">\(n\)</span> linearly independent vectors form a basis.</p>
<p>In this section, we will demonstrate the following.</p>
<ul class="simple">
<li><p>How vectors are represented with respect to bases, and how a given vector can have different numerical values when represented with respect to different bases.</p></li>
<li><p>How matrices are represented with respect to bases, and how a given matrix can have different numerical values when represented with respect to different bases.</p></li>
<li><p>The tranformation that taking in coordinates <span class="math notranslate nohighlight">\((\alpha_1,\dots, \alpha_n)\)</span> of a vector <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> with respect to a basis <span class="math notranslate nohighlight">\(B_1\)</span>, and returning the coordinates <span class="math notranslate nohighlight">\((\beta_1,\dots, \beta_n)\)</span> with respect to a different basis <span class="math notranslate nohighlight">\(B_2\)</span> is a linear transformation. We will show you how to find the linear map <span class="math notranslate nohighlight">\(T : (\alpha_1,\dots, \alpha_n) \mapsto (\beta_1,\dots,\beta_n)\)</span>, which is a matrix called the <em>change of basis matrix</em>.</p></li>
<li><p>Linear maps <span class="math notranslate nohighlight">\(\boldsymbol{A}\)</span> (or equivalently matrices) are also implicitly represented with respect to a particular basis. We will show you how to represent such linear maps with respect to a different basis.</p></li>
</ul>
<div class="section" id="representing-vectors-with-respect-to-bases">
<h2><span class="section-number">5.5.1. </span>Representing vectors with respect to bases<a class="headerlink" href="#representing-vectors-with-respect-to-bases" title="Permalink to this headline">¶</a></h2>
<p>A natural basis to use in many contexts is the standard (or canonical) basis <span class="math notranslate nohighlight">\(E = \{\boldsymbol{e}_1,\dots, \boldsymbol{e}_n \}\)</span>, where</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\boldsymbol{e}_i = \begin{bmatrix}0\\ \vdots \\ 1 \\ \vdots \\0\end{bmatrix}  .
\end{split}\]</div>
<p>That is, <span class="math notranslate nohighlight">\(\boldsymbol{e}_i\)</span> is <span class="math notranslate nohighlight">\(1\)</span> in the <span class="math notranslate nohighlight">\(i\)</span>th component, and <span class="math notranslate nohighlight">\(0\)</span> elsewhere.</p>
<p>The reason that this is such a convenient basis is the following.
When we write a vector</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\boldsymbol{x} = \begin{bmatrix} x_1 \\ \vdots \\ \\ x_n \end{bmatrix} \in \mathbb{R}^n,
\end{split}\]</div>
<p>we are implicitly writing it with respect to the standard basis.
The reason for this is that
$<span class="math notranslate nohighlight">\(
\boldsymbol{x} = x_1 \boldsymbol{e}_1 + x_2\boldsymbol{e}_2 + \dots + x_n\boldsymbol{e}_n  .
\)</span>$</p>
<p><em>Said another way, a vector is an abstract thing that obeys the rules of scalar multiplication and vector addition, but when we represent a vector as an array or list of numbers, we are representing that vector with respect to the standard basis.</em></p>
<p>On the other hand, if <span class="math notranslate nohighlight">\(B = \{\boldsymbol{v}_1,\dots, \boldsymbol{v}_n\}\)</span> is a different basis for <span class="math notranslate nohighlight">\(\mathbb{R}^n\)</span>, we could equivalently represent the vector <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> with respect to this basis as <span class="math notranslate nohighlight">\(\boldsymbol{x} = \alpha_1 \boldsymbol{v}_1 + \alpha_2\boldsymbol{v}_2 + \dots + \alpha_n\boldsymbol{v}_n\)</span> for some scalars <span class="math notranslate nohighlight">\(\alpha_1,\dots,\alpha_n\)</span>. Here <span class="math notranslate nohighlight">\((\alpha_1,\dots,\alpha_n)\)</span> are called the <em>coordinates of <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> with respect to <span class="math notranslate nohighlight">\(B\)</span></em>.</p>
</div>
<div class="section" id="the-change-of-basis-matrix">
<h2><span class="section-number">5.5.2. </span>The change of basis matrix<a class="headerlink" href="#the-change-of-basis-matrix" title="Permalink to this headline">¶</a></h2>
<div class="section" id="changing-to-and-from-the-standard-basis">
<h3><span class="section-number">5.5.2.1. </span>Changing to and from the standard basis<a class="headerlink" href="#changing-to-and-from-the-standard-basis" title="Permalink to this headline">¶</a></h3>
<p>Let’s start by assuming we have a vector <span class="math notranslate nohighlight">\(\boldsymbol{x} = (x_1,\dots, x_n)\)</span> represented with respect to the standard basis. We want to find the coordinates <span class="math notranslate nohighlight">\(\boldsymbol{\alpha} = (\alpha_1,\dots,\alpha_n)\)</span> of this vector with respect to a new basis <span class="math notranslate nohighlight">\(B = \{\boldsymbol{v}_1,\dots,\boldsymbol{v}_n\}\)</span>. That is, we want to find numbers <span class="math notranslate nohighlight">\(\alpha_1,\dots,\alpha_n\)</span> satisfying the following:</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{x} = \alpha_1 \boldsymbol{v}_1 + \alpha_2\boldsymbol{v}_2 + \dots + \alpha_n\boldsymbol{v}_n
\]</div>
<p>Let’s define the following matrix:</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{V} = \begin{bmatrix}\boldsymbol{v}_1 &amp; \boldsymbol{v}_2 &amp; \cdots &amp; \boldsymbol{v}_n\end{bmatrix}
\]</div>
<p>i.e. the <span class="math notranslate nohighlight">\(n\times n\)</span> matrix whose columns are the vectors <span class="math notranslate nohighlight">\(\boldsymbol{v}_1,\dots, \boldsymbol{v}_n\)</span>. Then if we recall the definition of matrix-vector multiplication, we realize that we can conveniently write</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{x} = \alpha_1 \boldsymbol{v}_1 + \alpha_2\boldsymbol{v}_2 + \dots + \alpha_n\boldsymbol{v}_n = \boldsymbol{V\alpha}
\]</div>
<p>The equation <span class="math notranslate nohighlight">\(\boldsymbol{x} = \boldsymbol{V\alpha}\)</span> is important: in fact, it immediately gives us the equation to change from the basis <span class="math notranslate nohighlight">\(B\)</span> to the standard basis <span class="math notranslate nohighlight">\(E\)</span>: given a representation <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> of <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> with respect to <span class="math notranslate nohighlight">\(B\)</span>, we can simply apply the linear transformation <span class="math notranslate nohighlight">\(\boldsymbol{V}\)</span> to <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> and get back the coordinates of <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> with respect to the standard basis.</p>
<p>But we would like to go the other way: change from the standard basis <span class="math notranslate nohighlight">\(E\)</span> to the new basis <span class="math notranslate nohighlight">\(B\)</span>. To do this, all we need to do is <em>invert</em> the transformation <span class="math notranslate nohighlight">\(\boldsymbol{V}\)</span>. Indeed, it is easy to show that <span class="math notranslate nohighlight">\(\boldsymbol{V}\)</span> is invertible using what we’ve seen in previous sections, since it is square and has linearly independent columns. Therefore we have</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{x} = \boldsymbol{V\alpha} \iff \boldsymbol{\alpha} = \boldsymbol{V}^{-1}\boldsymbol{x}
\]</div>
<p>Therefore, we’ve seen that we can take a vector <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> represented with respect to the standard basis <span class="math notranslate nohighlight">\(E\)</span> and obtain the coordinates of <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> with respect to a different basis <span class="math notranslate nohighlight">\(B\)</span> by applying the linear transformation <span class="math notranslate nohighlight">\(\boldsymbol{V}^{-1}\)</span>. For the remainder of this section, we denote <span class="math notranslate nohighlight">\(\boldsymbol{T}_{E\to B} = \boldsymbol{V}^{-1}\)</span> as the <em>change of basis matrix</em> from <span class="math notranslate nohighlight">\(E\)</span> to <span class="math notranslate nohighlight">\(B\)</span>. Notice that we also have <span class="math notranslate nohighlight">\(\boldsymbol{T}_{B\to E} = \boldsymbol{V}\)</span>, and that we always have the relation</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{T}_{E\to B} = \boldsymbol{T}_{B\to E}^{-1}
\]</div>
<p>Let’s see a few examples of changing bases in Python. Let’s start out with a vector <span class="math notranslate nohighlight">\(\boldsymbol{x} = (1,2,3,4)\)</span> represented with respect to the standard basis</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1, 2, 3, 4])
</pre></div>
</div>
</div>
</div>
<p>Suppose we want to represent this with respect to the following basis:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\boldsymbol{v}_1 = \begin{bmatrix}1\\ 0\\0\\0\end{bmatrix},\;\;\; \boldsymbol{v}_2 = \begin{bmatrix}1\\ 1\\0\\0\end{bmatrix},\;\;\; \boldsymbol{v}_3 = \begin{bmatrix}1\\ 1\\1\\0\end{bmatrix},\;\;\; \boldsymbol{v}_4 = \begin{bmatrix}1\\ 1\\1\\1\end{bmatrix}
\end{split}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">v1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">v2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">v3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">v4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>As we saw above, we need to form the matrix <span class="math notranslate nohighlight">\(\boldsymbol{V}\)</span> whose columns are <span class="math notranslate nohighlight">\(\boldsymbol{v}_1,\boldsymbol{v}_2,\boldsymbol{v}_3,\boldsymbol{v}_4\)</span>. We can do this in numpy with the following.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">V</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v3</span><span class="p">,</span><span class="n">v4</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">V</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[1, 1, 1, 1],
       [0, 1, 1, 1],
       [0, 0, 1, 1],
       [0, 0, 0, 1]])
</pre></div>
</div>
</div>
</div>
<p>Now we want to find the change of basis matrix <span class="math notranslate nohighlight">\(\boldsymbol{T}_{E\to B} = \boldsymbol{V}^{-1}\)</span>. To do this, we need to <em>invert</em> the matrix <span class="math notranslate nohighlight">\(\boldsymbol{V}\)</span>. We can do this in numpy with the function <code class="docutils literal notranslate"><span class="pre">np.linalg.inv()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">T_EtoB</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="n">T_EtoB</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[ 1., -1.,  0.,  0.],
       [ 0.,  1., -1.,  0.],
       [ 0.,  0.,  1., -1.],
       [ 0.,  0.,  0.,  1.]])
</pre></div>
</div>
</div>
</div>
<p>To compute the coordinates <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> of <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> with respect to <span class="math notranslate nohighlight">\(\boldsymbol{v}_1,\dots,\boldsymbol{v}_4\)</span>, we just need to apply this tranformation to <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">T_EtoB</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="n">alpha</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-1., -1., -1.,  4.])
</pre></div>
</div>
</div>
</div>
<p>Now let’s check that this actually gave us the correct answer by computing <span class="math notranslate nohighlight">\(\alpha_1\boldsymbol{v}_1 + \alpha_2\boldsymbol{v}_2 + \alpha_3\boldsymbol{v}_3 + \alpha_4\boldsymbol{v}_4\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">v1</span> <span class="o">+</span> <span class="n">alpha</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">v2</span> <span class="o">+</span> <span class="n">alpha</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">v3</span> <span class="o">+</span> <span class="n">alpha</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">v4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1., 2., 3., 4.])
</pre></div>
</div>
</div>
</div>
<p>Indeed, we obtain the original vector <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> back, and so <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> are the correct coordinates for <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> with respect to <span class="math notranslate nohighlight">\(\boldsymbol{v}_1,\dots,\boldsymbol{v}_4\)</span>.</p>
<p>We can also get the vector <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> back by applying the map <span class="math notranslate nohighlight">\(\boldsymbol{T}_{B\to E} = \boldsymbol{V}\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">T_BtoE</span> <span class="o">=</span> <span class="n">V</span>
<span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">T_BtoE</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1., 2., 3., 4.])
</pre></div>
</div>
</div>
</div>
<p>As expected, this also gives us the original vector <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> back.</p>
</div>
<div class="section" id="changing-to-and-from-two-arbitrary-bases">
<h3><span class="section-number">5.5.2.2. </span>Changing to and from two arbitrary bases<a class="headerlink" href="#changing-to-and-from-two-arbitrary-bases" title="Permalink to this headline">¶</a></h3>
<p>In the previous section, we saw how to derive the change of basis matrix between the standard basis and another non-standard matrix. Here, we see how to use this concept to find the change of basis matrix between two arbitrary bases. Suppose we have two bases <span class="math notranslate nohighlight">\(B_1 =\{ \boldsymbol{v}_1,\dots,\boldsymbol{v}_n\}\)</span> and <span class="math notranslate nohighlight">\(B_2 = \{\boldsymbol{u}_1,\dots,\boldsymbol{u}_n\}\)</span> for <span class="math notranslate nohighlight">\(\mathbb{R}^n\)</span>. Like before, let’s define <span class="math notranslate nohighlight">\(\boldsymbol{V} = \begin{bmatrix} \boldsymbol{v}_1,\dots,\boldsymbol{v}_n\end{bmatrix}\)</span>,  <span class="math notranslate nohighlight">\(\boldsymbol{U} = \begin{bmatrix} \boldsymbol{u}_1,\dots,\boldsymbol{u}_n\end{bmatrix}\)</span> be the matrices whose columns are the basis vectors of <span class="math notranslate nohighlight">\(B_1\)</span> and <span class="math notranslate nohighlight">\(B_2\)</span>, respectively.</p>
<p>In the previous section, we saw that the change of basis matrix for changing from the standard basis <span class="math notranslate nohighlight">\(E\)</span> to <span class="math notranslate nohighlight">\(B_1\)</span> or <span class="math notranslate nohighlight">\(B_2\)</span>, and back again. In particular, we have that</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{T}_{E\to B_1} = \boldsymbol{V}^{-1},\hspace{5mm} \boldsymbol{T}_{B_1\to E} = \boldsymbol{V},\hspace{5mm} \boldsymbol{T}_{E\to B_2} = \boldsymbol{U}^{-1},\hspace{5mm} \boldsymbol{T}_{B_2\to E} = \boldsymbol{U}
\]</div>
<p>Now we can derive the change of basis matrix from <span class="math notranslate nohighlight">\(B_1\)</span> to <span class="math notranslate nohighlight">\(B_2\)</span> and vice versa by <em>composing</em> these changing of basis matrices. Our strategy is as follows: say we start with coordinates <span class="math notranslate nohighlight">\(\boldsymbol{\alpha} = (\alpha_1,\dots,\alpha_n)\)</span> in terms of <span class="math notranslate nohighlight">\(B_1\)</span>. We first apply <span class="math notranslate nohighlight">\(\boldsymbol{T}_{B_1\to E}\)</span>, to obtain the coordinates in terms of the standard basis, and then apply <span class="math notranslate nohighlight">\(\boldsymbol{T}_{E\to B_2}\)</span> to obtain coordinates <span class="math notranslate nohighlight">\(\boldsymbol{\beta} = (\beta_1,\dots,\beta_n)\)</span> in terms of the basis <span class="math notranslate nohighlight">\(B_2\)</span>. This gives us</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{\beta} = \boldsymbol{T}_{E\to B_2}\boldsymbol{T}_{B_1\to E}\boldsymbol{\alpha} = \boldsymbol{U}^{-1}\boldsymbol{V\alpha}
\]</div>
<p>Hence we see that the change of basis matrix from <span class="math notranslate nohighlight">\(B_1\to B_2\)</span> is simply</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{T}_{B_1 \to B_2} = \boldsymbol{U}^{-1}\boldsymbol{V}.
\]</div>
<p>Similarly, the change of basis matrix to go back, i.e. from <span class="math notranslate nohighlight">\(B_2\to B_1\)</span> is simply</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{T}_{B_2\to B_1} = \boldsymbol{T}_{E\to B_1}\boldsymbol{T}_{B_2 \to E} = \boldsymbol{V}^{-1}\boldsymbol{U}.
\]</div>
<p>And that’s all there is to it! By <em>composing</em> linear maps, we can obtain the linear map changing between any two arbitrary bases.</p>
<p>Let’s see some examples in Python.</p>
<p>We’ll use the same basis <span class="math notranslate nohighlight">\(B_1 =\{ \boldsymbol{v}_1,\boldsymbol{v}_2,\boldsymbol{v}_3,\boldsymbol{v}_4\}\)</span> defined above, as well as the basis <span class="math notranslate nohighlight">\(B_2 = \{\boldsymbol{u}_1, \boldsymbol{u}_2,\boldsymbol{u}_3,\boldsymbol{u}_4\}\)</span> defined below:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\boldsymbol{u}_1 = \begin{bmatrix}-1\\ 0\\0\\0\end{bmatrix},\;\;\; \boldsymbol{u}_2 = \begin{bmatrix}1\\ -1\\0\\0\end{bmatrix},\;\;\; \boldsymbol{u}_3 = \begin{bmatrix}1\\ 1\\-1\\0\end{bmatrix},\;\;\; \boldsymbol{u}_4 = \begin{bmatrix}-1\\ 1\\1\\-1\end{bmatrix}
\end{split}\]</div>
<p>We define these as numpy arrays:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">u1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">u2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">u3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">u4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s store these in a matrix <span class="math notranslate nohighlight">\(U\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">U</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">u1</span><span class="p">,</span><span class="n">u2</span><span class="p">,</span><span class="n">u3</span><span class="p">,</span><span class="n">u4</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">U</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[-1,  1,  1, -1],
       [ 0, -1,  1,  1],
       [ 0,  0, -1,  1],
       [ 0,  0,  0, -1]])
</pre></div>
</div>
</div>
</div>
<p>Now we can compute the tranformations <span class="math notranslate nohighlight">\(\boldsymbol{T}_{B_1 \to B_2}\)</span> and <span class="math notranslate nohighlight">\(\boldsymbol{T}_{B_2 \to B_1}\)</span> using the formulas above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">T_B1toB2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">U</span><span class="p">),</span> <span class="n">V</span><span class="p">)</span>
<span class="n">T_B2toB1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">V</span><span class="p">),</span> <span class="n">U</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s see what the coordinates of <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> are with respect to the basis <span class="math notranslate nohighlight">\(B_2\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">beta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">T_B1toB2</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>
<span class="n">beta</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-17., -13.,  -7.,  -4.])
</pre></div>
</div>
</div>
</div>
<p>We should be able to confirm that <span class="math notranslate nohighlight">\(\boldsymbol{x} = \beta_1 \boldsymbol{u}_1 + \beta_2 \boldsymbol{u}_2 + \beta_3 \boldsymbol{u}_3 + \beta_4 \boldsymbol{u}_4\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">beta</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">u1</span> <span class="o">+</span> <span class="n">beta</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">u2</span> <span class="o">+</span> <span class="n">beta</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">u3</span> <span class="o">+</span> <span class="n">beta</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">u4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1., 2., 3., 4.])
</pre></div>
</div>
</div>
</div>
<p>As expected, this gives us our vector <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span>, now represented with respect to the basis <span class="math notranslate nohighlight">\(B_2\)</span>. We should also we able to confirm that we get <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> back when we apply the transformation <span class="math notranslate nohighlight">\(\boldsymbol{T}_{B_2 \to B_1}\)</span> to <span class="math notranslate nohighlight">\(\boldsymbol{\beta}\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">T_B2toB1</span><span class="p">,</span> <span class="n">beta</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-1., -1., -1.,  4.])
</pre></div>
</div>
</div>
</div>
<p>Indeed, we get back the coordinates <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> with respect to <span class="math notranslate nohighlight">\(B_1\)</span>.</p>
</div>
</div>
<div class="section" id="representing-a-matrix-with-respect-to-a-basis">
<h2><span class="section-number">5.5.3. </span>Representing a matrix with respect to a basis<a class="headerlink" href="#representing-a-matrix-with-respect-to-a-basis" title="Permalink to this headline">¶</a></h2>
<p>Suppose we have a linear function <span class="math notranslate nohighlight">\(f(\boldsymbol{x})\)</span>, which is represented as <span class="math notranslate nohighlight">\(f(\boldsymbol{x}) = \boldsymbol{Ax}\)</span> for a vector <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> represented with respect to the standard basis. Then <span class="math notranslate nohighlight">\((i,j)^{th}\)</span> entry of <span class="math notranslate nohighlight">\(\boldsymbol{A}\)</span> is the <span class="math notranslate nohighlight">\(i\)</span>th coordinate of the vector <span class="math notranslate nohighlight">\(f(\boldsymbol{e}_j)\)</span>, where <span class="math notranslate nohighlight">\(\boldsymbol{e}_j\)</span> is the <span class="math notranslate nohighlight">\(j^{th}\)</span> standard basis vector. To see this, notice that</p>
<div class="math notranslate nohighlight">
\[\begin{split}
f(\boldsymbol{e}_j) = \boldsymbol{Ae}_j = \begin{bmatrix}a_{11} &amp; \cdots &amp; a_{1n}\\ \vdots &amp;\ddots &amp;\vdots\\ a_{n1} &amp; \cdots &amp; a_{nn}\end{bmatrix}\begin{bmatrix}0\\ \vdots \\ 1 \\ \vdots \\0\end{bmatrix} = \begin{bmatrix}a_{1j}\\ a_{2j}\\\vdots \\ a_{nj}\end{bmatrix}
\end{split}\]</div>
<p>Thus we see that the <span class="math notranslate nohighlight">\(i\)</span>th entry of the vector <span class="math notranslate nohighlight">\(\boldsymbol{Ae}_j\)</span> is <span class="math notranslate nohighlight">\(a_{ij}\)</span>. Hence if we want to represent the vector <span class="math notranslate nohighlight">\(f(\boldsymbol{e}_j)\)</span> with respect to the standard basis, we can do so with the representation</p>
<div class="math notranslate nohighlight">
\[
f(\boldsymbol{e}_j) = a_{1j}\boldsymbol{e}_1 + a_{2j}\boldsymbol{e}_2 + \cdots + a_{nj}\boldsymbol{e}_j
\]</div>
<p>More generally, this also works with other bases. For example, consider a basis <span class="math notranslate nohighlight">\(B = \{\boldsymbol{v}_1,\dots, \boldsymbol{v}_n\}\)</span>. If <span class="math notranslate nohighlight">\(\boldsymbol{A}_B\)</span> is a matrix representing <span class="math notranslate nohighlight">\(f\)</span> with respect to this basis, then the <span class="math notranslate nohighlight">\((i,j)^{th}\)</span> entry of <span class="math notranslate nohighlight">\(\boldsymbol{A}_B\)</span> is the <span class="math notranslate nohighlight">\(i^{th}\)</span> coordinate of the vector <span class="math notranslate nohighlight">\(f(\boldsymbol{v}_j)\)</span> with respect to <span class="math notranslate nohighlight">\(B\)</span>. In what follows, we show how we can find the matrix <span class="math notranslate nohighlight">\(\boldsymbol{A}_B\)</span> given the linear transformation <span class="math notranslate nohighlight">\(f(\boldsymbol{x}) = \boldsymbol{Ax}\)</span> represented with respect to the standard basis.</p>
<div class="section" id="changing-basis-for-a-matrix">
<h3><span class="section-number">5.5.3.1. </span>Changing basis for a matrix<a class="headerlink" href="#changing-basis-for-a-matrix" title="Permalink to this headline">¶</a></h3>
<p>Suppose we have a vector <span class="math notranslate nohighlight">\(\boldsymbol{x}\in \mathbb{R}^n\)</span>, represented with respect to the standard basis <span class="math notranslate nohighlight">\(E\)</span> as <span class="math notranslate nohighlight">\(\boldsymbol{x} = (x_1,\dots,x_n)\)</span>. We know that we can transform such a vector with a matrix <span class="math notranslate nohighlight">\(\boldsymbol{A} \in \mathbb{R}^{m\times n}\)</span>, representing a linear map from <span class="math notranslate nohighlight">\(\mathbb{R}^n\)</span> to <span class="math notranslate nohighlight">\(\mathbb{R}^m\)</span>. Now suppose we chose to change basis, and represent <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> with respect to a new basis <span class="math notranslate nohighlight">\(B = \{\boldsymbol{v}_1,\dots, \boldsymbol{v}_n\}\)</span> using the change of basis matrix <span class="math notranslate nohighlight">\(\boldsymbol{T}_{E\to B}\)</span> to get the new coordinates <span class="math notranslate nohighlight">\(\boldsymbol{\alpha} = \boldsymbol{T}_{E\to B}\boldsymbol{x}\)</span>. If we directly apply the matrix <span class="math notranslate nohighlight">\(A\)</span> to the new coordinates <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span>, we won’t in general get the same result as if we applied it to the original vector <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span>. This is because when we represent a linear map as a matrix, we are also implicitly doing so with a fixed basis. However, we will see in this section that we can also represent a linear map (i.e. a matrix) with respect to different bases.</p>
<p>To see how this works, we will use a similar approach as in the previous section. Since <span class="math notranslate nohighlight">\(\boldsymbol{A}\)</span> is represented with respect to the standard basis, we need to pass it vectors represented with respect to this same basis. Therefore, a natural approach when trying to apply the linear map <span class="math notranslate nohighlight">\(\boldsymbol{A}\)</span> to vectors <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> represented with respect to <span class="math notranslate nohighlight">\(B\)</span> is to first transform <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> to be in terms of the standard basis, using <span class="math notranslate nohighlight">\(\boldsymbol{T}_{B\to E}\)</span>, then apply the linear map <span class="math notranslate nohighlight">\(\boldsymbol{A}\)</span>, and then finally tranform back to the basis <span class="math notranslate nohighlight">\(B\)</span>. In symbols, we apply the following linear map:</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{A}_B = \boldsymbol{T}_{E\to B}\boldsymbol{A}\boldsymbol{T}_{B\to E}
\]</div>
<p>Here we use the notation <span class="math notranslate nohighlight">\(\boldsymbol{A}_B\)</span> to denote the linear map <span class="math notranslate nohighlight">\(A\)</span> represented with respect to the basis <span class="math notranslate nohighlight">\(B\)</span>. If we let <span class="math notranslate nohighlight">\(\boldsymbol{V} = \begin{bmatrix} \boldsymbol{v}_1 &amp;\cdots &amp; \boldsymbol{v}_n\end{bmatrix}\)</span> be the matrix whose columns are the basis vectors of <span class="math notranslate nohighlight">\(B\)</span>, we can alternatively write the matrix <span class="math notranslate nohighlight">\(\boldsymbol{A}_B\)</span> as</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{A}_B = \boldsymbol{V}^{-1}\boldsymbol{AV}
\]</div>
<p>We will see formulas of this kind frequently later in the course when we discuss eigenvalue and singular value decompositions, and so it is important to understand that these decompositions are really just representing a particular linear transformation with respect to a new basis.</p>
<p>Let’s see some example of how this works in Python, using the same basis <span class="math notranslate nohighlight">\(\boldsymbol{v}_1,\boldsymbol{v}_2,\boldsymbol{v}_3,\boldsymbol{v}_4\)</span> defined above. Let’s consider the linear map represented with respect to the standard basis as</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\boldsymbol{A} = \begin{bmatrix}1 &amp; 1 &amp; 1 &amp; -1\\ 1 &amp; 1 &amp; -1 &amp; 1\\ 1&amp; -1 &amp; 1 &amp;1\\ -1 &amp; 1 &amp; 1&amp; 1\end{bmatrix}
\end{split}\]</div>
<p>In numpy, we can define this with the following code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[ 1,  1,  1, -1],
       [ 1,  1, -1,  1],
       [ 1, -1,  1,  1],
       [-1,  1,  1,  1]])
</pre></div>
</div>
</div>
</div>
<p>Now let’s see what answer we get when we apply this matrix to the vector <span class="math notranslate nohighlight">\(\boldsymbol{x} = (1,2,3,4)\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Ax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="n">Ax</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([2, 4, 6, 8])
</pre></div>
</div>
</div>
</div>
<p>This gives us a new vector <span class="math notranslate nohighlight">\(\boldsymbol{Ax}\)</span> represented with repsect to the standard basis <span class="math notranslate nohighlight">\(E\)</span>.</p>
<p>Now suppose that instead we choose to work with the basis <span class="math notranslate nohighlight">\(B\)</span>, and use the representation of <span class="math notranslate nohighlight">\(\boldsymbol{x}\)</span> in terms of the coordinates <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> in this basis. As we saw above, we can compute the matrix <span class="math notranslate nohighlight">\(\boldsymbol{A}\)</span> with respect to the basis <span class="math notranslate nohighlight">\(B\)</span> as <span class="math notranslate nohighlight">\(\boldsymbol{A}_B = \boldsymbol{T}_{E\to B}\boldsymbol{A}\boldsymbol{T}_{B\to E}\)</span>. We do this in Python below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A_B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">T_EtoB</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">T_BtoE</span><span class="p">))</span>
<span class="n">A_B</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[ 0.,  0.,  2.,  0.],
       [ 0.,  2.,  0.,  0.],
       [ 2.,  0.,  0.,  0.],
       [-1.,  0.,  1.,  2.]])
</pre></div>
</div>
</div>
</div>
<p>Now let’s apply this to the coordinates <span class="math notranslate nohighlight">\(\boldsymbol{\alpha}\)</span> to get <span class="math notranslate nohighlight">\(\boldsymbol{A}_B\boldsymbol{\alpha}\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A_Balpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">A_B</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>
<span class="n">A_Balpha</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-2., -2., -2.,  8.])
</pre></div>
</div>
</div>
</div>
<p>If we did everything correctly, we should see that this gives us the coordinates of the vector <span class="math notranslate nohighlight">\(\boldsymbol{Ax}\)</span> with respect to the basis <span class="math notranslate nohighlight">\(B\)</span>. Let’s check that this is true by computing</p>
<div class="math notranslate nohighlight">
\[
 [\boldsymbol{A}_B\boldsymbol{\alpha}]_1\boldsymbol{v}_1 + [\boldsymbol{A}_B\boldsymbol{\alpha}]_2\boldsymbol{v}_2 +[\boldsymbol{A}_B\boldsymbol{\alpha}]_3\boldsymbol{v}_3 +[\boldsymbol{A}_B\boldsymbol{\alpha}]_4\boldsymbol{v}_4.
 \]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A_Balpha</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">v1</span> <span class="o">+</span> <span class="n">A_Balpha</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">v2</span> <span class="o">+</span> <span class="n">A_Balpha</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">v3</span> <span class="o">+</span> <span class="n">A_Balpha</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">v4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([2., 4., 6., 8.])
</pre></div>
</div>
</div>
</div>
<p>As expected, this indeed gives us the same thing as <span class="math notranslate nohighlight">\(\boldsymbol{Ax}\)</span>!</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="basicLA_3_inverses.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">5.4. </span>Left Inverses, Right Inverses, and Inverses</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="basicLA_4_chheader.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">6. </span>Geometry: angles, orthogonality, and projections</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Michael W. Mahoney, N. Benjamin Erichson and Ryan Theisen<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>